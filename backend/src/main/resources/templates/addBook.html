<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Manage Books</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.standalone.min.css}">
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/4.6.3/css/fontawesome.min.css}">
    <link rel="stylesheet" href="https://unpkg.com/css.gg@2.0.0/icons/css/trash.css">
</head>
<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light mb-3 p-1">
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/}">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/book-list}">Books</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/add-book}">Add</a>
            </li>
        </ul>
    </div>
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" th:href="@{/cart-list}">My Cart</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" th:href="@{/logout}">Logout</a>
        </li>
    </ul>
</nav>
<div>
	<div class="container">
		<h1 th:text="${(book.id==0)?'Add Book Details':'Update Book Details'}"></h1>
		<form th:action="@{/add-book}" th:object="${book}" method="post">
            <fieldset class="mb-3">
                <label for="bookName">Book Name</label>
                <input type="text" id="bookName" th:field="*{bookName}" required="required" class="form-control"/>
                <div th:if="${#fields.hasErrors('bookName')}" class="text-warning">
                    <p th:errors="*{bookName}">Incorrect book name</p>
                </div>
            </fieldset>

            <fieldset class="mb-3">
                <label for="authorName">Author Name</label>
                <input type="text" id="authorName" th:field="*{authorName}" required="required" class="form-control"/>
                <div th:if="${#fields.hasErrors('authorName')}" class="text-warning">
                    <p th:errors="*{authorName}">Incorrect author name</p>
                </div>
            </fieldset>

            <fieldset class="mb-3">
                <label for="publishedDate">Date</label>
                <input type="date" id="publishedDate" th:field="*{publishedDate}" required="required" class="form-control"/>
                <div th:if="${#fields.hasErrors('publishedDate')}" class="text-warning">
                    <p th:errors="*{publishedDate}">Incorrect date</p>
                </div>
            </fieldset>

            <input type="hidden" th:field="*{id}" />
            <input type="submit" class="btn btn-success" th:value="${book.id == 0 ? 'Add' : 'Update'}" />
        </form>
	</div>
</div>
<script type="text/javascript"
	th:href="@{webjars/bootstrap/5.1.3/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:href="@{webjars/jquery/3.6.0/jquery.min.js}"></script>
<script
	th:href="@{webjars/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js}"></script>
<script type="text/javascript">
	$('#publishedDate').datepicker({
         format: 'yyyy-mm-dd'
     });
</script>
</body>
</html>